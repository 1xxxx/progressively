!function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a)}):"object"==typeof exports?module.exports=b:a.progressively=b(a)}(this,function(a){"use strict";function b(a,b){var c={};for(var d in a)c[d]=b.hasOwnProperty(d)?b[d]:a[d];return c}function c(a){return null===a.offsetParent}function d(a,b){if(c(a))return!1;var d=a.getBoundingClientRect();return d.top>=0&&d.left>=0&&d.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&d.right<=(window.innerWidth||document.documentElement.clientWidth)}function e(a,b){setTimeout(function(){var c=new Image;c.onload=function(){a.src=this.src,"function"==typeof b&&b()},c.src=a.dataset.progressive},g.delay)}function f(){!j&&i||(clearTimeout(i),i=setTimeout(function(){k.render(),i=null},g.throttle))}var g,h,i,j,k={};return h=function(){},g={throttle:250,blur:20,delay:12},k.init=function(c){c=c||{},g=b(g,c),k.render(),document.addEventListener?(a.addEventListener("scroll",f,!1),a.addEventListener("load",f,!1)):(a.attachEvent("onscroll",f),a.attachEvent("onload",f))},k.render=function(){for(var a,b=(document.querySelectorAll(".progressive-img"),document.querySelectorAll("[data-progressive]")),c=b.length-1;c>=0;--c)a=b[c],d(a)&&e(a);b.length||k.drop()},k.drop=function(){},k});