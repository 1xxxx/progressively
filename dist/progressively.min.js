/* MIT Licensed - progressively v0.1 */!function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a)}):"object"==typeof exports?module.exports=b:a.progressively=b(a)}(this,function(a){"use strict";function b(a,b){var c={};for(var d in a)c[d]=b.hasOwnProperty(d)?b[d]:a[d];return c}function c(a){return null===a.offsetParent}function d(a,b){if(c(a))return!1;var d=a.getBoundingClientRect();return d.top>=0&&d.left>=0&&d.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&d.right<=(window.innerWidth||document.documentElement.clientWidth)}function e(a,b){setTimeout(function(){var c=new Image;c.onload=function(){a.src=this.src,console.log("loaded"),a.classList.remove("progressive--not-loaded"),a.classList.add("progressive--is-loaded"),"function"==typeof b&&b()},c.src=a.dataset.progressive},g.delay)}function f(){!i&&h||(clearTimeout(h),h=setTimeout(function(){j.render(),h=null},g.throttle))}var g,h,i,j={};return g={throttle:250,blur:20,delay:12,imgLoaded:function(){}},j.init=function(c){c=c||{},g=b(g,c),j.render(),document.addEventListener?(a.addEventListener("scroll",f,!1),a.addEventListener("load",f,!1)):(a.attachEvent("onscroll",f),a.attachEvent("onload",f))},j.render=function(){for(var a,b=document.querySelectorAll(".progressive__img"),c=document.querySelectorAll(".progressive"),f=b.length-1;f>=0;--f)a=b[f],d(a)&&a.classList.contains("progressive--not-loaded")&&e(a,function(){g.imgLoaded()});b.length&&c.length||j.drop()},j.drop=function(){},j});